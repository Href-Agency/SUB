{#
    Universal Admin Form Notification Template
    
    This template can be used for all Freeform notifications sent to site administrators.
    It loops through all form fields and displays them as list items.
    
    Available variables:
    - form: The form object
    - submission: The submission object
    - submittedOn: Date/time of submission
    - fields: Array of all form fields
#}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Form Submission - {{ form.name }}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            background-color: #007bff;
            color: white;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 24px;
        }
        .form-info {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .form-info p {
            margin: 5px 0;
        }
        .fields-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .fields-list li {
            background-color: #f8f9fa;
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
        .field-label {
            font-weight: bold;
            color: #495057;
            margin-bottom: 5px;
        }
        .field-value {
            color: #666;
            word-wrap: break-word;
        }
        .submission-info {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin-top: 30px;
            font-size: 14px;
        }
        .footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            font-size: 12px;
            color: #6c757d;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>New Form Submission</h1>
            <p>{{ form.name }}</p>
        </div>

        <div class="form-info">
            <p><strong>Form Handle:</strong> {{ form.handle }}</p>
            {% if submittedOn %}
                <p><strong>Submitted On:</strong> {{ submittedOn|date('F j, Y \\a\\t g:i A') }}</p>
            {% endif %}
        </div>

        <h2>Form Fields</h2>
        <ul class="fields-list">
            {% for field in fields %}
                {% if field.type != 'submit' and field.type != 'html' %}
                    <li>
                        <div class="field-label">{{ field.label }}</div>
                        <div class="field-value">
                            {% set fieldValue = submission[field.handle] %}
                            {% if fieldValue is empty %}
                                <em>No value provided</em>
                            {% else %}
                                {{ fieldValue }}
                            {% endif %}
                        </div>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>

        <div class="submission-info">
            <h3>Submission Details</h3>
            <p><strong>Submission ID:</strong> {{ submission.id ?? 'N/A' }}</p>
            <p><strong>Total Fields:</strong> {{ fields|length }}</p>
            {% if submission.dateCreated %}
                <p><strong>Submitted:</strong> {{ submission.dateCreated|date('F j, Y \\a\\t g:i:s A T') }}</p>
            {% endif %}
            {% if submission.ip %}
                <p><strong>IP Address:</strong> {{ submission.ip }}</p>
            {% endif %}
        </div>

        <div class="footer">
            <p>This is an automated notification from {{ siteName ?? 'your website' }}. Please do not reply to this email.</p>
        </div>
    </div>
</body>
</html> 